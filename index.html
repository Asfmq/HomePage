<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title id="page-title"></title>
    <meta name="keywords" content="" id="page-keywords">
    <meta name="description" content="" id="page-description">
    <meta name="author" content="" id="page-author">
    <link rel="icon" href="" id="favicon" type="image/x-icon">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="full-screen" content="yes">
    <meta name="browsermode" content="application">
    <meta name="x5-fullscreen" content="true">
    <meta name="x5-page-mode" content="app">
    <meta name="lsvn" content="djEuNS4x">
    
    <!-- 引入外部 CSS -->
    <link href="./css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/fontawesome-free5.13.0.css">
    
    <script src="./js/jquery.min.js"></script>
    <script src="./js/bootstrap.min.js"></script>
    <script src="config.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", function() {
        // 设置页面信息
        document.getElementById('page-title').innerText = config.title;
        document.getElementById('page-keywords').content = config.keywords;
        document.getElementById('page-description').content = config.description;
        document.getElementById('page-author').content = config.author;
        document.getElementById('favicon').href = config.favicon;

        // 设置背景图
        document.body.style.backgroundImage = `url(${config.backgroundImage})`; 

        // 动态生成导航项
        const navItemsContainer = document.getElementById('nav-items');
        config.links.navItems.forEach(item => {
          const li = document.createElement('li');
          li.className = "nav-item";
          li.innerHTML = `<a class="nav-link" href="${item.url}" id="${item.id}">${item.name}</a>`;
          navItemsContainer.appendChild(li);
        });

        // 动态生成分类和链接
        const categoriesContainer = document.getElementById('categories');
        config.links.categories.forEach(category => {
          const categoryDiv = document.createElement('ul');
          categoryDiv.className = "mylist row";
		  
          categoryDiv.innerHTML = `<li class="title">
                ${category.icon.startsWith('<svg') ? 
                    category.icon :
                    `<svg class="icon" aria-hidden="true">
                        <use href="${category.icon}"></use>
                    </svg>`
                }
			<span>${category.title}</span></li>`;
          category.links.forEach(link => {
            const linkItem = document.createElement('li');
            linkItem.className = "lylme-3";
            linkItem.innerHTML = `<a rel="nofollow" href="${link.url}" target="_blank">
                ${link.icon.startsWith('<svg') ? 
                    `${link.icon}` :
                    link.icon.startsWith('#') ?
                        `<svg class="icon" aria-hidden="true">
                            <use href="${link.icon}"></use>
                        </svg>` :
                        `<img src="${link.icon}" alt="${link.title}">`
                }
                <span>${link.name}</span>
            </a>`;
            categoryDiv.appendChild(linkItem);
          });
          categoriesContainer.appendChild(categoryDiv);
        });

        // 设置版权和备案信息
        document.getElementById('copyright').innerHTML = 
            config.copyright.show ? 
                `Copyright ©${config.copyright.text} <a href='/' target='_blank'>${config.copyright.target}</a>. All Rights Reserved.
                ${config.copyright.showRecord ? 
                    `<br><a href="${config.copyright.recordUrl}" target="_blank">${config.copyright.record}</a>` 
                    : ''
                }` 
                : '';
      });
    </script>

  </head>

  <body>
    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
      <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarsExample05">
        <svg class="icon" width="200" height="200"><use xlink:href="#icon-menus"></use></svg>
        <span><svg class="bi bi-x" fill="currentColor" id="x"><use xlink:href="#icon-closes"></use></svg></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarsExample05">
        <ul class="navbar-nav mr-auto" id="nav-items"></ul>
        <div id="he-plugin-simple"></div>
      </div>				
    </nav>

    <main class="container" style="margin-top:10vh;">
      <div id="main">
        <div id="show_time"></div>  
        <div id="show_date"></div>  
      </div>

      <!-- 搜索框 -->
      <div id="search" class="s-search s-curren">
        <div id="search-list" class="hide-type-list">
          <div class="search-group group-a">
            <div class="search-box">
              <div id="search-lylme">
                <form action="https://cn.bing.com/search?q=" method="get" target="_blank" id="super-search-fm">
                  <div id="checke-so" onclick="lylme()">
                    <svg class="lylme" aria-hidden="true"><use xlink:href="#icon-bing"></use></svg>
                    <svg class="sw" id="lylme-up" style="display:inline" aria-hidden="true"><use xlink:href="#icon-up"></use></svg>
                    <svg class="sw" id="lylme-down" style="display:none" aria-hidden="true"><use xlink:href="#icon-down"></use></svg>
                  </div>
                  <input type="text" id="search-text" placeholder="微软必应搜索" style="outline:0" autocomplete="off">
                  <button class="submit" id="search-submit" type="submit">
                    <svg style="width: 22px; height: 22px; margin: 0 20px; color: #fff;" class="icon" aria-hidden="true"><use xlink:href="#icon-sousuo"></use></svg>
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>

        <!-- 搜索类型选择 -->
		<ul class="search-type" id="chso"></ul>
		<script>
			const searchTypeContainer = document.getElementById('chso');
			config.links.searchEngines.forEach(engine => {
				const li = document.createElement('li');
				li.innerHTML = 
					`<input hidden="" checked="" type="radio" name="type" id="${engine.name}" value="${engine.url}" data-placeholder="${engine.placeholder}">
					<label for="${engine.name}" style="font-weight:600">
						${engine.icon.startsWith('<svg') ? 
                `${engine.icon}` :
                engine.icon.startsWith('#') ?
                    `<svg class="icon" aria-hidden="true">
                        <use href="${engine.icon}"></use>
                    </svg>` :
                    `<img src="${engine.icon}" alt="${engine.title}">`
            }
						<span style="color:#0c498c">${engine.name}</span>
					</label>`
				;
				searchTypeContainer.appendChild(li);
			});
		</script>

    

        <div class="set-check hidden-xs">
          <input type="checkbox" id="set-search-blank" class="bubble-3" autocomplete="off">
        </div>
        
        <ul id="word" style="display: none;"></ul>
      </div>

      <!-- 动态生成分类 -->
      <ul class="mylist row" id="categories"></ul>
    </main>

    <!-- 返回顶部 -->
    <div style="display:none;" class="back-to" id="toolBackTop">
      <a title="返回顶部" onclick="window.scrollTo(0,0);return false;" href="#top" class="back-top"></a>
    </div>

    <!-- 底部信息 -->
    <footer class="mt-5 mb-3 footer text-muted text-center">
      <p id="copyright"></p>
    </footer>

    <script src="./js/script.js"></script>
    <script src="./js/svg.js"></script>
  </body>
</html>